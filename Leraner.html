<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Learner Information</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-image: url(./img/960x0.jpg);
      background-color: #f4f4f4;
    }

    h1 {
      text-align: center;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    label,
    select {
      display: block;
      margin-bottom: 10px;
    }

    select {
      width: 100%;
      padding: 8px;
      font-size: 16px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }

    h2 {
      margin-top: 20px;
    }

    #learnerBiodata {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-gap: 10px;
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 4px;
      background-color: #f9f9f9;
    }

    p {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>STUDENTS BIODATA</h1>

    <label for="classSelect">Select Class:</label>
    <select id="classSelect" onchange="displayLearners()">
      <option value="GradeSix">GradeSix</option>
      <option value="GradeFive">GradeFive</option>
      <!-- Add more classes as needed -->
    </select>

    <label for="learnerSelect">Select Learner:</label>
    <select id="learnerSelect" onchange="displayBiodata()">
      <!-- Learner options will be populated based on the class selection -->
    </select>

    <h2>Learner's Biodata</h2>
    <div id="learnerBiodata">
      <!-- Biodata will be displayed here -->
    </div>
  </div>
  <a href="./Pdf/slip 2023/Lizzy Achieng.pdf"></a>

  <script>
    const learners = {
        GradeSix: [
            { name: "John Doe", age: 18, grade: "A", fileURL: "./Pdf/slip 2023/Clement Joseph.pdf" },
            { name: "lizzyo Smith", age: 17, grade: "B", fileURL: "./Pdf/slip 2023/Lizzy Achieng.pdf" },
            // Add more learners for Class A
        ],
        GradeFive: [
            { name: "Alice Johnson", age: 16, grade: "A+" },
            { name: "Bob Brown", age: 17, grade: "B+" },
            // Add more learners for Class B
        ],
        // Add more classes with learners as needed
    };

    function displayLearners() {
        const selectedClass = document.getElementById("classSelect").value;
        const learnerSelect = document.getElementById("learnerSelect");
        learnerSelect.innerHTML = ""; // Clear previous options

        learners[selectedClass].forEach((learner, index) => {
            const option = document.createElement("option");
            option.value = index;
            option.textContent = learner.name;
            learnerSelect.appendChild(option);
        });

        // Display biodata for the first learner by default
        displayBiodata();
    }

    function capitalizeString(str) {
        return str.charAt(0).toUpperCase() + str.slice(1);
    }

    function displayBiodata() {
        const selectedClass = document.getElementById("classSelect").value;
        const selectedLearnerIndex = document.getElementById("learnerSelect").value;
        const biodataDiv = document.getElementById("learnerBiodata");
        const selectedLearner = learners[selectedClass][selectedLearnerIndex];

        biodataDiv.innerHTML = ""; // Clear previous biodata

        // Display biodata with keys and values capitalized in a grid layout
        for (const [key, value] of Object.entries(selectedLearner)) {
            if (key !== "fileURL") { // Exclude displaying fileURL
                const capitalizedKey = capitalizeString(key);
                const capitalizedValue = capitalizeString(value.toString());

                const p = document.createElement("p");
                p.textContent = `${capitalizedKey}: ${capitalizedValue}`;
                biodataDiv.appendChild(p);
            }
        }

        // Check if the selected learner has a fileURL and create a download link
        if (selectedLearner.fileURL) {
            const downloadLink = document.createElement("a");
            downloadLink.href = selectedLearner.fileURL;
            downloadLink.textContent = "Download Slip";
            downloadLink.download = ""; // This attribute triggers download
            biodataDiv.appendChild(downloadLink);
        }
    }

    // Initial population of learner dropdown based on default class
    displayLearners();
  </script>

</body>
</html>